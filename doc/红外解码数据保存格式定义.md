# 背景介绍
虽然根据查找到的资料可以得知，一般红外编码信号根据相位类型可以分为两类:

* PWM
* PPM

但是根据预研过程中对多种遥控器信号(海尔，美的，小米，康佳，飞利浦)的实际测量发现：

***各个厂商在对红外编码的定义上与我们理解中标准或多或少的会有各种出入***

这也导致在开发解码的程序时不能简单地按照PWM和PPM两种情况进行分类。经过思量后，考虑到对更多遥控器的解码兼容性以及程序的通用性。我们决定通过详细记录每条红外编码的所有细节信息，在牺牲一部分flash空间的情况下保证尽可能高的解码兼容性。

---

# 数据结构定义
以红外信号接收端的波形举例：
* 1 数据长度(从第一个低电平到最后一个低电平之间不通电平的数目)
* 2 第一个低电平的时间长度(单位毫秒，精确到小数点后两位。举例:123表示1.23ms)
* 3 第一个高电平的时间长度
* ...

代码定义：
```
typedef struct
{
    uint16_t start_tag;
    uint16_t data_len;
    uint16_t ir_data[IR_DATA_MAX_LEN];
    uint16_t check_value;
    uint16_t end_tag;
} Ir_Decode_t;
```

---

# 更多细节定义：
如何判断一个数据包是否接收完成?

在接收数据包的过程中，不断统计低电平出现的的最长时间，通过记录每次高电平的时间长度，如果高电平的时间长度大于当前统计到的最长低电平时间的两倍，则表示数据包已经接收完成。
